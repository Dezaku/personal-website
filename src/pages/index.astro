---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
const posts = (await getCollection("blog")).sort(
  (a, b) => a.data.publishedDate.valueOf() - b.data.publishedDate.valueOf()
);
---

<Layout title="Dezaku | Home">
  <div class="titleContainer">
    <img
      src="https://cdn.discordapp.com/avatars/899407456147480596/b912a3e5460db56c9a30f91d279f65cb.webp"
      style="width: 100px; height: 100px;"
      alt="my discord profile picture"
    />
    <h1 class="text-gradient"><a href="/about">Hi. I'm Dezaku.</a></h1>
    <!-- <p>
      A 17 years old student in Hessen, Germany. <br /><a
        class="text-gradient"
        href="/about">Learn more</a
      >
    </p> -->
  </div>
</Layout>
<h3>Recent Posts</h3>
<div class="posts">
  {
    posts.slice(0, 3).map((post) => {
      return (
        <div class="post">
          <a href=`blog/${post.slug}`>{post.data.title}</a>
          <p>{post.data.description}</p>
          <p class="tags">
            {post.data.tags.map((tag) => {
              return <span class="tag">{tag}</span>;
            })}
          </p>
        </div>
      );
    })
  }
</div>

<style>
  .titleContainer {
    display: flex;
    flex-wrap: wrap;
    justify-content: left;
    margin-top: 4rem;
    margin-bottom: 3rem;
    font-size: 28px;
    gap: 3rem;
  }
  .titleContainer p {
    margin-top: -1rem;
    justify-self: right;
    font-size: 20px;
  }

  img {
    border-radius: 50%;
  }
  h3 {
    margin-bottom: 1rem;
  }

  .posts {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }
  .post p {
    font-size: 1.1rem;
  }
  .post a {
    font-size: 1.17em;
    color: white;
  }

  .tag {
    padding-left: 5px;
    padding-right: 5px;
    background-image: var(--accent-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-size: 400%;
  }
</style>
